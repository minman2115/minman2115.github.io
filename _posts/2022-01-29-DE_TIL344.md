---
layout: post
title: "쿠버네티스 - 비밀정보를 깃옵스로 관리하는 방법"
tags: [Data Engineering]
comments: true
---

.

Data_Engineering_TIL(20220129)

[학습자료]

“클라우드 네이티브를 위한 쿠버네티스 실전 프로젝트” 책을 읽고 정리한 내용입니다.

** 동양북스, 아이자와 고지&사토 가즈히코 지음, 박상욱 옮김

참고자료 URL : https://github.com/dybooksIT/k8s-aws-book

[학습내용]

- 깃옵스란

쿠버네티스의 매니패스트를 레포지토리로 구성해서 관리하는 방법론

- 깃옵스에서 비밀정보가 노출되는 위험성

깃옵스를 통해서 디플로이먼트나 서비스를 위한 스크립트를 관리하는대는 문제가 없겠지만 시크릿은 레포지토리에 그대로 저장할 수 없다.

- 깃옵스에서 Sealed Secret 이라는 툴을 이용한 비밀정보 관리

실드시크릿이라는 툴은 kubeseal 이라는 아래 개념도와 같이 명령어로 비밀정보를 암호화한 매니패스트를 생성해서 적용하게 되면 클러스터에 복호화된 시크릿을 등록해주는 개념이다.

실드시크릿을 클러스터에 설치해두면 레포지토리에 kubeseal 명령어로 암호화된 상태의 매니패스트를 등록할 수 있기 때문에 안전한 CI/CD 프로세스를 만들 수 있다. 

![1](https://user-images.githubusercontent.com/41605276/151654770-b513d601-0d36-494a-a51b-237edd9c6738.png)

실드시크릿 외에도 AWS 상에서 비밀정보를 관리하는 서비스인 AWS Secrets Manager를 활용해서 aws-secret-operator를 이용하는 방법도 있다.